<!DOCTYPE html>
<html>
  <head>
    <title>Simple Voting App</title>
    <script src="https://cdn.socket.io/4.0.1/socket.io.min.js"></script>
    <script>
      const socket = io();
      socket.on("vote", (message) => {
        const option = document.getElementById(message + "-count");
        option.innerText = parseInt(option.innerText) + 1;
      });

      function submitVote() {
        const selectedOption = document.querySelector('input[name="option"]:checked').value;
        socket.emit("vote", selectedOption);
      }
    </script>
  </head>
  <body>
    <h1>Vote for your favorite option</h1>
    <form onsubmit="event.preventDefault(); submitVote();">
      <input type="radio" id="option1" name="option" value="option1" />
      <label for="option1">
        Option 1 (<span id="option1-count">0</span> votes)
      </label>
      <br />
      <input type="radio" id="option2" name="option" value="option2" />
      <label for="option2">
        Option 2 (<span id="option2-count">0</span> votes)
      </label>
      <br />
      <input type="submit" value="Vote" />
    </form>
  </body>
</html>
